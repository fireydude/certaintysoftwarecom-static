<div class="row" ng-controller="workExperienceCtrl as vm">
    <div class="col-md-6">
        <h2>Contract</h2>
        <div class="accordion" id="contract-accordion">
            <div ng-repeat="p in vm.contracts">
                <div class="panel panel-default" id="{{p.id}}-accordion">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#contract-accordion" data-target="#{{p.id}}" href="javascript:;" aria-expanded="false">
                                {{p.header}}
                                </a>
                        </h4>
                    </div>
                    <div id="{{p.id}}" class="panel-collapse collapse">
                        <div>
                            <h5>{{p.dates}}</h5>
                            <p>{{p.desc}}</p>
                            <div ng-show="p.sub != undefined">
                                <h5>{{p.sub}}</h5>
                                <p>{{p.subText}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <h2>Freelance</h2>
        <div class="accordion" id="freelance-accordion">
            <div ng-repeat="p in vm.freelance">
                <div class="panel panel-default" id="{{p.id}}-accordion">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#freelance-accordion" data-target="#{{p.id}}" href="javascript:;" aria-expanded="false">
                                {{p.header}}
                                </a>
                        </h4>
                    </div>
                    <div id="{{p.id}}" class="panel-collapse collapse">
                        <div>
                            <h5>{{p.dates}}</h5>
                            <p>{{p.desc}}</p>
                            <div ng-show="p.sub != undefined">
                                <h5>{{p.sub}}</h5>
                                <p>{{p.subText}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <h2>Permanent</h2>
            <div class="accordion" id="perm-accordion">
                <div ng-repeat="p in vm.perms">
                    <div class="panel panel-default" id="{{p.id}}-accordion">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#perm-accordion" data-target="#{{p.id}}" href="javascript:;" aria-expanded="false">
                                {{p.header}}
                                </a>
                            </h4>
                        </div>
                        <div id="{{p.id}}" class="panel-collapse collapse">
                            <div>
                                <h5>{{p.dates}}</h5>
                                <p>{{p.desc}}</p>
                                <div ng-show="p.sub != undefined">
                                    <h5>{{p.sub}}</h5>
                                    <p>{{p.subText}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
        $(document).ready(function () {
            addExperienceAccordion("contract", "Contract", contracts, "Worked for these companies");
            addExperienceAccordion("freelance", "Freelance", freelance, "Projects undertaken for these companies");
            addExperienceAccordion("perm", "Permanent", perms, "Employed by these companies");
        });
</script>